(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){},146:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},153:function(e,t,n){"use strict";n.r(t);var a=n(56),c=n.n(a),i=n(70),r=n(17),o=n(18),A=n(20),s=n(19),u=n(21),l=n(1),m=n.n(l),d=n(6),p=n(9),g=n(39),v=n(74),h=n.n(v),f=n(75),b=n.n(f),E=n(76),y=n.n(E),B=n(77),S=n.n(B),O=n(78),C=n.n(O),j=(n(145),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(A.a)(this,Object(s.a)(t).call(this,e))).state={time:0,playing:!1,duration:e.node.element.duration,repeat:e.node.element.loop},n._timeUpdate=n._timeUpdate.bind(Object(p.a)(Object(p.a)(n))),n._togglePlay=n._togglePlay.bind(Object(p.a)(Object(p.a)(n))),n._stop=n._stop.bind(Object(p.a)(Object(p.a)(n))),n._setCurrentTime=n._setCurrentTime.bind(Object(p.a)(Object(p.a)(n))),n._toggleRepeat=n._toggleRepeat.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"_timeUpdate",value:function(){var e=this.props.node;this.setState({time:e.element.currentTime})}},{key:"_togglePlay",value:function(){var e=this.props.node,t=this.state.playing;t?e.pause():e.resume(),this.setState({playing:!t})}},{key:"_stop",value:function(){this.props.node.stop(),this.setState({playing:!1})}},{key:"_setCurrentTime",value:function(e){var t=this.props.node,n=this.state.duration;t.element.currentTime=e*n/100,this.setState({time:t.element.currentTime})}},{key:"_toggleRepeat",value:function(e){var t=this.props.node;t.element.loop=e,this.setState({repeat:t.element.loop})}},{key:"componentDidMount",value:function(){var e=this.props.node;e.element.addEventListener("timeupdate",this._timeUpdate),e.element.addEventListener("ended",this._stop)}},{key:"componentWillUnmount",value:function(){var e=this.props.node;e.element.removeEventListener("timeupdate",this._timeUpdate),e.element.addEventListener("ended",this._stop)}},{key:"render",value:function(){var e=this.state,t=e.time,n=e.duration,a=e.playing,c=e.repeat;return m.a.createElement("div",{className:"node source-node"},m.a.createElement("div",{className:"time-bar"},m.a.createElement("div",{className:"time"},"".concat(Math.floor(t/60),":").concat(t<10?"0".concat(Math.floor(t)):Math.floor(t)," "),"/"," ".concat(Math.floor(n/60),":").concat(n<10?"0".concat(Math.floor(n)):Math.floor(n))),m.a.createElement(g.a,{value:t/n*100,onChange:this._setCurrentTime})),m.a.createElement("div",{className:"buttons"},m.a.createElement("img",{src:a?b.a:h.a,alt:"Toggle play",onClick:this._togglePlay}),m.a.createElement("img",{src:y.a,alt:"Stop",onClick:this._stop}),m.a.createElement("img",{src:c?C.a:S.a,alt:"Toggle repeat",onClick:this._toggleRepeat})))}}]),t}(l.Component)),w=(n(146),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(A.a)(this,Object(s.a)(t).call(this,e))).state={value:e.node.gain.value},n._setGainValue=n._setGainValue.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"_setGainValue",value:function(e){var t=this.props.node;t.gain.value=e/100,this.setState({value:t.gain.value})}},{key:"render",value:function(){var e=this.state.value;return m.a.createElement("div",{className:"node gain-node"},m.a.createElement(g.a,{value:100*e,onChange:this._setGainValue}))}}]),t}(l.Component)),R=n(79),U=n.n(R),k=new(window.AudioContext||window.webkitAudioContext);if(k.destination.nodeIndex=0,"running"!==k.state){document.addEventListener("click",function e(){k.resume(),document.removeEventListener("click",e)})}var x=[k.destination],Q=function(e){var t=e.connect.bind(e),n=e.disconnect.bind(e);return e.outputIndice=[],e.connect=function(n,a,c){return t(n,a,c),e.outputIndice.push(n.nodeIndex),n},e.disconnect=function(t,a,c){n(t,a,c);var i=e.outputIndice.indexOf(t.nodeIndex);-1!==i&&e.outputIndice.splice(i,1)},e.nodeIndex=x.push(e)-1,e},D=k.destination,q=function(e,t){return new Promise(function(n,a){var c=document.createElement("audio");c.preload="auto";var i,r=null;t&&(i=setTimeout(function(){c.readyState>3?o():a("loading media source timed out: '".concat(e,"'"))},t));var o=function(){clearTimeout(i),null===r&&((r=k.createMediaElementSource(c)).element=c,r.start=function(){c.currentTime=0,c.play()},r.pause=function(){c.pause()},r.resume=function(){c.play()},r.stop=function(){c.pause(),c.currentTime=0}),n(Q(r))};c.addEventListener("canplaythrough",o),c.addEventListener("error",function(){a("error loading media source: '".concat(e,"'"))});var A=e.substring(e.lastIndexOf(".")+1,e.length),s=document.createElement("source");s.src=e,s.type="audio/"+A,c.appendChild(s),c.readyState>3&&o()})},N=function(){return Q(k.createGain())},G=function(){return Q(k.createAnalyser())},I=(Audio,n(151),function(e){function t(){return Object(r.a)(this,t),Object(A.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.canvas.animator.start()}},{key:"draw",value:function(){var e=this.canvas,t=this.props.node,n=e.getContext(),a=e.getCanvasElement(),c=a.width,i=a.height,r=function(e){var t=new Uint8Array(e.frequencyBinCount);return e.getByteFrequencyData(t),t}(t),o=r.length,A=c/o,s=i/255;n.clearRect(0,0,c,i);for(var u=0;u<o;u++)n.fillRect(u*A,(255-r[u])*s,A,r[u]*s)}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"node analyser-node"},m.a.createElement(U.a,{ref:function(t){return e.canvas=t},className:"analyser-chart",animate:function(){return e.draw()},onResize:function(){return e.draw()}}))}}]),t}(l.Component)),M=n(80),Y=n.n(M),J=n(81),T=n.n(J),_=(n(152),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(A.a)(this,Object(s.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){var t,n,a,i,r,o,A,s,u,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=D,e.prev=1,e.next=4,q(Y.a);case 4:n=e.sent,a=G(),i=N(),n.connect(i).connect(a).connect(t),this.setState({guitarSource:n,guitarGain:i,guitarAnalyser:a}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(1);case 13:return e.prev=13,e.next=16,q(T.a);case 16:r=e.sent,o=G(),A=N(),r.connect(A).connect(o).connect(t),this.setState({pianoSource:r,pianoGain:A,pianoAnalyser:o}),e.next=25;break;case 23:e.prev=23,e.t1=e.catch(13);case 25:return e.prev=25,e.next=28,navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){return Q(k.createMediaStreamSource(e))});case 28:s=e.sent,u=G(),l=N(),s.connect(l).connect(u).connect(t),this.setState({liveSource:s,liveGain:l,liveAnalyser:u}),e.next=37;break;case 35:e.prev=35,e.t2=e.catch(25);case 37:case"end":return e.stop()}},e,this,[[1,11],[13,23],[25,35]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.guitarSource,a=t.guitarGain,c=t.guitarAnalyser,i=t.pianoSource,r=t.pianoGain,o=t.pianoAnalyser,A=t.liveSource,s=t.liveGain,u=t.liveAnalyser;return m.a.createElement("div",{ref:function(t){return e.demo=t},id:"demo"},n&&a&&c&&m.a.createElement("div",{className:"channel"},m.a.createElement("hr",null),m.a.createElement(j,{node:n}),m.a.createElement(w,{node:a}),m.a.createElement(I,{node:c})),i&&r&&o&&m.a.createElement("div",{className:"channel"},m.a.createElement("hr",null),m.a.createElement(j,{node:i}),m.a.createElement(w,{node:r}),m.a.createElement(I,{node:o})),A&&s&&u&&m.a.createElement("div",{className:"channel"},m.a.createElement("hr",null),m.a.createElement("div",{className:"node"},"Live "),m.a.createElement(w,{node:s}),m.a.createElement(I,{node:u})))}}]),t}(l.Component));Object(d.render)(m.a.createElement(_,null),document.getElementById("root"))},74:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACqSURBVEhLYxiWYDsQa0CYtAH/gfgnEPcAsQBIgNoAZAEMvwbidCBmAmKqAWQLYPgcEDsAMVUANgtgeDUQywExRQCbwcj4GxC3ADEPEJMFsBmKDT8G4kggZgRikgA2w/Dh40BsDsREA2yGEMJ/gXguEEsCMUGAzQBi8WcgrgRiNiDGCbBpJBbTzAKaBhHNIplmyZSmGY1mRQXNCjuaFdc0rXBoXmUOJcDAAABYfqx3fCaFBgAAAABJRU5ErkJggg=="},75:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB3SURBVEhL7coxDoBAAITA+/+ntaIhrNHeSeg4v6+uh6wemmomq4emmsnqoalmsnpoqpmsHppqJquHpprJ6qGpZrJ6aKqZrB6aaiarh6aayeqhqWayemiqmawemmomq4emmsnqoalmsnpoqpmsHppqJquHfm+dcwMpjvsFvWTjlwAAAABJRU5ErkJggg=="},76:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABRSURBVEhL7crBCQAgFIDQv//StYBCScceeHO+W+tRiuaSormkaC4pmkuK5pKiuaRoLimaS4rmkqK5pGguKZpLiuaSormkaC4pmkuK5tJ3amYD6aVCzOtc5kAAAAAASUVORK5CYII="},77:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEdSURBVEhL7ZS7TsMwFECDxFt0gBF2+AhWJlb4iTLwN0yIL2GHIpCQ2Fjp3gHBxADnODFyaSrZCV0QRzpSbuLrm/jaqf5puMDl+nIxfOI1bodoAVhAn3HfG79NLKATPMJWVvEc7/AN08QSP/AMp9jDR2xLKHWmwBo+oQ9f8AQHmEs6eesSuSw+HOOONwqJk89t8ggdcBqicsxNt+kBXtaXNbGhWyEqJz1oG+gyvYeowcCb6yGqB5vUBV/Sl30NUcMV+lniZ/q5DurCMZp7G6If2CAb5YAuBTYxbvWZc+DWcpni5CUFlvAQ79G8B1zBb6zm4UgnVwvmaA9jjpPv4hTzCuRqQ29wiP5uWumzRNn0bXIWfbdpFn0O2p+iqr4AsRuHJIiBUggAAAAASUVORK5CYII="},78:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEASURBVEhL7ZXBCcJAEEWjB+3Bu01YhldBbyKCIOJFO7EgO7ABFXvQk/6nGRjWNWQTohcfPNgsk53JzibJ/uTsZPc1bIa73Mve86oBSIAXOWAihgWZJzmXnpZcybMM482rnMo3YsE4ksZExmK8HxN4qHQtueEoO7mMmdtIYgxbvHCLQtryILmRp5jlY0voYb5Sk4fyJvvSqidRSOVjyjbQ6KLqa+P3PlZ9bb5aPdvlT09tfPU0mobT+JBKTQ6r56gy5uhyhD3MJx1TtmErrXqS+YS8hMkvmgWFjqXBOBbjLf0totqlDFlIe5KYpb5FqdjiSd+iFFi80R9O47/MX5FlD2JSdl3yzNvVAAAAAElFTkSuQmCC"},80:function(e,t,n){e.exports=n.p+"static/media/guitar.2ef78c16.mp3"},81:function(e,t,n){e.exports=n.p+"static/media/piano.498b718c.mp3"},82:function(e,t,n){e.exports=n(153)}},[[82,1,2]]]);
//# sourceMappingURL=main.8b73ba9c.chunk.js.map